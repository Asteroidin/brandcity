!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["route-widget-shopify"]=t():e["route-widget-shopify"]=t()}(self,(function(){return(()=>{var e,t,r={6262:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=function(e){"use strict";var t,r=Object.prototype,o=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n=d;return function(o,a){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw a;return I()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=R(i,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=p(e,t,r);if("normal"===c.type){if(n=r.done?m:f,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=m,r.method="throw",r.arg=c.arg)}}}(e,r,i),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(T([])));k&&k!==r&&o.call(k,i)&&(w=k);var x=b.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,i,s,c){var u=p(e[a],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"===n(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}}function R(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=p(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=b,u(x,"constructor",b),u(b,"constructor",y),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(C.prototype),u(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new C(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}("object"===n(e=r.nmd(e))?e.exports:{});try{regeneratorRuntime=o}catch(e){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},8129:(e,t,r)=>{e.exports=r(6262)},1806:(e,t,r)=>{e.exports=r(5642)},1107:(e,t,r)=>{"use strict";var n=r(7320),o=r(1135),a=r(4448),i=r(5610),s=r(6028),c=r(9077),u=r(1734),l=r(2226),p=r(1285),d=r(5007);e.exports=function(e){return new Promise((function(t,r){var f,h=e.data,m=e.headers,v=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}n.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var _=s(e.baseURL,e.url);function k(){if(y){var n="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};o((function(e){t(e),g()}),(function(e){r(e),g()}),a),y=null}}if(y.open(e.method.toUpperCase(),i(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(k)},y.onabort=function(){y&&(r(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var x=(e.withCredentials||u(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(m[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&n.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(r(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),h||(h=null),y.send(h)}))}},5642:(e,t,r)=>{"use strict";var n=r(7320),o=r(9692),a=r(9108),i=r(6163),s=function e(t){var r=new a(t),s=o(a.prototype.request,r);return n.extend(s,a.prototype,r),n.extend(s,r),s.create=function(r){return e(i(t,r))},s}(r(1285));s.Axios=a,s.Cancel=r(5007),s.CancelToken=r(6476),s.isCancel=r(8448),s.VERSION=r(2037).version,s.all=function(e){return Promise.all(e)},s.spread=r(5166),s.isAxiosError=r(5099),e.exports=s,e.exports.default=s},5007:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6476:(e,t,r)=>{"use strict";var n=r(5007);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},8448:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},9108:(e,t,r)=>{"use strict";var n=r(7320),o=r(5610),a=r(3060),i=r(2756),s=r(6163),c=r(7375),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var p=[i,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(l),a=Promise.resolve(t);p.length;)a=a.then(p.shift(),p.shift());return a}for(var d=t;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(e){h(e);break}}try{a=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},3060:(e,t,r)=>{"use strict";var n=r(7320);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},6028:(e,t,r)=>{"use strict";var n=r(6900),o=r(6787);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},2226:(e,t,r)=>{"use strict";var n=r(3669);e.exports=function(e,t,r,o,a){var i=new Error(e);return n(i,t,r,o,a)}},2756:(e,t,r)=>{"use strict";var n=r(7320),o=r(4725),a=r(8448),i=r(1285),s=r(5007);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},3669:e=>{"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},6163:(e,t,r)=>{"use strict";var n=r(7320);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||a,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},1135:(e,t,r)=>{"use strict";var n=r(2226);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},4725:(e,t,r)=>{"use strict";var n=r(7320),o=r(1285);e.exports=function(e,t,r){var a=this||o;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},1285:(e,t,r)=>{"use strict";var n=r(7320),o=r(4554),a=r(3669),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(1107)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},2037:e=>{e.exports={version:"0.26.0"}},9692:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5610:(e,t,r)=>{"use strict";var n=r(7320);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},6787:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4448:(e,t,r)=>{"use strict";var n=r(7320);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,a,i){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},6900:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},5099:(e,t,r)=>{"use strict";var n=r(7320);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},1734:(e,t,r)=>{"use strict";var n=r(7320);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4554:(e,t,r)=>{"use strict";var n=r(7320);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},9077:(e,t,r)=>{"use strict";var n=r(7320),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},5166:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7375:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(2037).version,a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return n(r)===e||"a"+(t<1?"n ":" ")+e}}));var i={};a.transitional=function(e,t,r){function n(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,a){if(!1===e)throw new Error(n(o," has been removed"+(t?" in "+t:"")));return t&&!i[o]&&(i[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}},e.exports={assertOptions:function(e,t,r){if("object"!==n(e))throw new TypeError("options must be an object");for(var o=Object.keys(e),a=o.length;a-- >0;){var i=o[a],s=t[i];if(s){var c=e[i],u=void 0===c||s(c,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:a}},7320:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(9692),a=Object.prototype.toString;function i(e){return Array.isArray(e)}function s(e){return void 0===e}function c(e){return"[object ArrayBuffer]"===a.call(e)}function u(e){return null!==e&&"object"===n(e)}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function p(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!=e)if("object"!==n(e)&&(e=[e]),i(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===a.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:p,isStream:function(e){return u(e)&&p(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===a.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)d(arguments[n],r);return t},extend:function(e,t,r){return d(t,(function(t,n){e[n]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},3201:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=(r=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),i=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(i).concat([a]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&n[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),t.push(i))}},t}},9428:(e,t,r)=>{"use strict";var n=r(2134);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},6526:(e,t,r)=>{e.exports=r(9428)()},2134:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6208:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},4418:(e,t,r)=>{var n=r(4147).version;e.exports=["shopify-widget@".concat(n,"-dev"),"shopify-widget@".concat(n,"-test"),{baseImageURL:"https://cdn.routeapp.io/route-widget/images",apiURL:"https://api.route.com",headlessApiURL:"https://shopify.route.com",shopifyServiceURL:"https://shopify.route.com",protectCoreURL:"https://protection-widget.route.com/protect.core.js",sentryRelease:"shopify-widget@".concat(n),sentryAuthToken:"23f18296e29a4ded9de739ced27f6106f9ae8433a1e34a6db1b6a19a15c28a49",sentryDSN:"https://a00750699f944d129eba8432ebb32b2d@o239602.ingest.sentry.io/6004108"},"shopify-widget@".concat(n)][2]},1038:()=>{var e=e||{};e.analytics={init:function(){var t=this;window.setTimeout((function(){t.settings.disableGA||e.analytics.render()}),1e3)},render:function(){if(!document.getElementById("js-routeapp-analytics-frame")){var e=document.createElement("iframe");e.id="js-routeapp-analytics-frame",e.title="Route App Analytics",e.frameBorder=0,e.width=0,e.height=0,e.setAttribute("src",this.settings.url),e.style="width:0; height:0; border: 0; border: none; display: block !important",document.body.appendChild(e)}},send:function(e){var t=document.getElementById("js-routeapp-analytics-frame");t&&t.contentWindow.postMessage(e,this.settings.url)},settings:{disableGA:!1,url:"https://cdn.routeapp.io/route-analytics/index.html"}};var t=setInterval((function(){"complete"!==document.readyState&&"interactive"!==document.readyState||(e.analytics.init(),clearInterval(t))}),500);window.Routeapp=e},2604:e=>{e.exports.c=function(e){return"function"==typeof window.olOnReadyStateChangeReplacement&&(e+="&internal"),e}},7106:e=>{e.exports.T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD",o=new Intl.NumberFormat(t,{style:"currency",currency:n,minimumFractionDigits:e?2:0,maximumFractionDigits:e?2:0});return o.format(r)},e.exports.c=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},7405:(e,t,r)=>{(e.exports=r(3201)(!1)).push([e.id,".order-summary__sections.route-loading::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.75);z-index:999;background-image:url(https://cdn.routeapp.io/route-widget-shopify/v2/images/loading.gif);background-repeat:no-repeat;background-position:center center}\n",""])},400:(e,t,r)=>{var n=r(7405);"string"==typeof n&&(n=[[e.id,n,""]]);r(6723)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},6723:(e,t,r)=>{var n,o,a={},i=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,p=[],d=r(6208);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=a[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(b(n.parts[i],t))}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(b(n.parts[i],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(s):r.push(n[i]={id:i,parts:[s]})}return r}function m(e,t){var r=c(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=p[p.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),p.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(e.insertAt.before,r);r.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=r.nc;n&&(e.attrs.nonce=n)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function b(e,t){var r,n,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var i=l++;r=u||(u=g(t)),n=k.bind(null,r,i,!1),o=k.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),n=S.bind(null,r,t),o=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),n=x.bind(null,r),o=function(){v(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return f(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var i=r[o];(s=a[i.id]).refs--,n.push(s)}for(e&&f(h(e,t),t),o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var w,_=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function k(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function x(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function S(e,t,r){var n=r.css,o=r.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(n=d(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"route-widget-shopify","version":"3.0.1","description":"Route widget wrapper for Shopify","main":"src/index.js","repository":"git@gitlab.com:route/b2b-core/ecommerce-integrations/shopify-widget-v1.2.git","browserslist":[">1%","last 4 versions","Firefox ESR","not ie < 9"],"scripts":{"start":"parcel src/index.html --out-dir dist-dev --open","build":"NODE_ENV=production webpack --mode=production && node ./build-images.js","build-stage":"NODE_ENV=stage webpack --mode=production && node ./build-images.js","deploy-images-dev":"aws s3 sync dist/images s3://route-cdn-test-bucket/route-widget/images --profile route-cdn --acl public-read","deploy-images-prod":"aws s3 sync dist/images s3://route-cdn/route-widget/images --profile route-prod --acl public-read","update-version":"./update-version.sh","deploy-dev":"./deploy-dev.sh","deploy-prod":"./deploy-prod.sh","dev":"webpack --mode=development --watch --output-path=dist-dev","lint":"eslint src/**/*.js","lint-fix":"eslint --fix src/**/*.js","test":"./run-cypress-local.sh run","test-open":"./run-cypress-local.sh open","unit-test":"jest","e2e-test":"./run-cypress-local.sh run","cy:run":"cypress run --browser chrome --headless --config defaultCommandTimeout=10000","cy:open":"cypress open"},"engines":{"node":">=14.17"},"author":"Route Protect Team","license":"ISC","dependencies":{"@sentry/browser":"^6.19.6","axios":"^0.26.0","node-sass":"^5.0.0","preact":"^10.1.1","prop-types":"^15.6.2"},"devDependencies":{"@babel/core":"^7.1.2","@babel/plugin-proposal-class-properties":"^7.1.0","@babel/plugin-transform-react-jsx":"^7.0.0","@babel/plugin-transform-runtime":"^7.1.0","@babel/preset-env":"7.9.6","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@semantic-release/gitlab":"^9.2.0","@sentry/webpack-plugin":"^1.18.8","autoprefixer":"^9.2.1","babel-eslint":"^10.0.1","babel-loader":"^8.0.4","babel-preset-preact":"^1.1.0","chai":"^4.3.0","css-loader":"^1.0.0","cypress":"^9.5.1","cypress-iframe":"^1.0.1","enzyme":"^3.11.0","enzyme-adapter-preact-pure":"^3.0.0","eslint":"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-config-prettier":"^8.3.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-import":"^2.25.2","eslint-plugin-jest":"^21.27.2","eslint-plugin-prettier":"^4.0.0","eslint-plugin-react":"^7.26.1","file-loader":"^2.0.0","husky":"^4.3.8","imagemin":"^6.0.0","imagemin-pngquant":"^6.0.0","imagemin-svgo":"^7.0.0","jest":"^26.6.3","parcel-bundler":"^1.12.5","postcss-flexbugs-fixes":"^4.1.0","postcss-loader":"^3.0.0","prettier":"^2.4.1","sass-loader":"^10.1.0","style-loader":"^0.23.1","webpack":"^5.68.0","webpack-cli":"^4.9.2"},"release":{"plugins":["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator","@semantic-release/changelog","@semantic-release/npm","@semantic-release/git","@semantic-release/gitlab"]}}')}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return r[e](a,a.exports,o),a.loaded=!0,a.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>"route-widget-shopify-"+e+"-v2.min.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="route-widget-shopify:",o.l=(r,n,a,i)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+a){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[n];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={stable:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=a);var i=o.p+o.u(t),s=new Error;o.l(i,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,a,[i,s,c]=r,u=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);c&&c(o)}for(t&&t(r);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkroute_widget_shopify=self.webpackChunkroute_widget_shopify||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a,i={};return(a="undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"shopify-widget@3.0.1"},a.SENTRY_RELEASES=a.SENTRY_RELEASES||{},a.SENTRY_RELEASES["shopify-widget-v2@route-app-inc"]={id:"shopify-widget@3.0.1"},(()=>{"use strict";function e(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=t.apply(r,n);function s(t){e(i,o,a,s,c,"next",t)}function c(t){e(i,o,a,s,c,"throw",t)}s(void 0)}))}}o.r(i);var r,n,a,s,c,u,l=o(8129),p=o.n(l),d={},f=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var r in t)e[r]=t[r];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var o,a,i,s={};for(i in t)"key"==i?o=t[i]:"ref"==i?a=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return y(e,s,o,a,null)}function y(e,t,r,o,i){var s={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++a:i};return null==i&&null!=n.vnode&&n.vnode(s),s}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?_(e):null}function k(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return k(e)}}function x(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!S.__r++||u!==n.debounceRendering)&&((u=n.debounceRendering)||c)(S)}function S(){for(var e;S.__r=s.length;)e=s.sort((function(e,t){return e.__v.__b-t.__v.__b})),s=[],e.some((function(e){var t,r,n,o,a,i;e.__d&&(a=(o=(t=e).__v).__e,(i=t.__P)&&(r=[],(n=m({},o)).__v=o.__v+1,P(i,o,n,t.__n,void 0!==i.ownerSVGElement,null!=o.__h?[a]:null,r,null==a?_(o):a,o.__h),L(r,o),o.__e!=a&&k(o)))}))}function C(e,t,r,n,o,a,i,s,c,u){var l,p,h,m,v,g,w,k=n&&n.__k||f,x=k.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(m=r.__k[l]=null==(m=t[l])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?y(null,m,null,null,m):Array.isArray(m)?y(b,{children:m},null,null,null):m.__b>0?y(m.type,m.props,m.key,null,m.__v):m)){if(m.__=r,m.__b=r.__b+1,null===(h=k[l])||h&&m.key==h.key&&m.type===h.type)k[l]=void 0;else for(p=0;p<x;p++){if((h=k[p])&&m.key==h.key&&m.type===h.type){k[p]=void 0;break}h=null}P(e,m,h=h||d,o,a,i,s,c,u),v=m.__e,(p=m.ref)&&h.ref!=p&&(w||(w=[]),h.ref&&w.push(h.ref,null,m),w.push(p,m.__c||v,m)),null!=v?(null==g&&(g=v),"function"==typeof m.type&&m.__k===h.__k?m.__d=c=R(m,c,e):c=E(e,m,h,k,v,c),"function"==typeof r.type&&(r.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=_(h))}for(r.__e=g,l=x;l--;)null!=k[l]&&("function"==typeof r.type&&null!=k[l].__e&&k[l].__e==r.__d&&(r.__d=_(n,l+1)),D(k[l],k[l]));if(w)for(l=0;l<w.length;l++)N(w[l],w[++l],w[++l])}function R(e,t,r){for(var n,o=e.__k,a=0;o&&a<o.length;a++)(n=o[a])&&(n.__=e,t="function"==typeof n.type?R(n,t,r):E(r,n,n,o,n.__e,t));return t}function E(e,t,r,n,o,a){var i,s,c;if(void 0!==t.__d)i=t.__d,t.__d=void 0;else if(null==r||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(o),i=null;else{for(s=a,c=0;(s=s.nextSibling)&&c<n.length;c+=2)if(s==o)break e;e.insertBefore(o,a),i=a}return void 0!==i?i:o.nextSibling}function A(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||h.test(t)?r:r+"px"}function O(e,t,r,n,o){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||A(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||A(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?I:T,a):e.removeEventListener(t,a?I:T,a);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function T(e){this.l[e.type+!1](n.event?n.event(e):e)}function I(e){this.l[e.type+!0](n.event?n.event(e):e)}function P(e,t,r,o,a,i,s,c,u){var l,p,d,f,h,v,g,y,_,k,x,S=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(u=r.__h,c=t.__e=r.__e,t.__h=null,i=[c]),(l=n.__b)&&l(t);try{e:if("function"==typeof S){if(y=t.props,_=(l=S.contextType)&&o[l.__c],k=l?_?_.props.value:l.__:o,r.__c?g=(p=t.__c=r.__c).__=p.__E:("prototype"in S&&S.prototype.render?t.__c=p=new S(y,k):(t.__c=p=new w(y,k),p.constructor=S,p.render=U),_&&_.sub(p),p.props=y,p.state||(p.state={}),p.context=k,p.__n=o,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=S.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,S.getDerivedStateFromProps(y,p.__s))),f=p.props,h=p.state,d)null==S.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==S.getDerivedStateFromProps&&y!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,k)||t.__v===r.__v){p.props=y,p.state=p.__s,t.__v!==r.__v&&(p.__d=!1),p.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,k),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,h,v)}))}p.context=k,p.props=y,p.state=p.__s,(l=n.__r)&&l(t),p.__d=!1,p.__v=t,p.__P=e,l=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(o=m(m({},o),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(f,h)),x=null!=l&&l.type===b&&null==l.key?l.props.children:l,C(e,Array.isArray(x)?x:[x],t,r,o,a,i,s,c,u),p.base=t.__e,t.__h=null,p.__h.length&&s.push(p),g&&(p.__E=p.__=null),p.__e=!1}else null==i&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=j(r.__e,t,r,o,a,i,s,u);(l=n.diffed)&&l(t)}catch(e){t.__v=null,(u||null!=i)&&(t.__e=c,t.__h=!!u,i[i.indexOf(c)]=null),n.__e(e,t,r)}}function L(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function j(e,t,n,o,a,i,s,c){var u,l,p,f=n.props,h=t.props,m=t.type,g=0;if("svg"===m&&(a=!0),null!=i)for(;g<i.length;g++)if((u=i[g])&&(u===e||(m?u.localName==m:3==u.nodeType))){e=u,i[g]=null;break}if(null==e){if(null===m)return document.createTextNode(h);e=a?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),i=null,c=!1}if(null===m)f===h||c&&e.data===h||(e.data=h);else{if(i=i&&r.call(e.childNodes),l=(f=n.props||d).dangerouslySetInnerHTML,p=h.dangerouslySetInnerHTML,!c){if(null!=i)for(f={},g=0;g<e.attributes.length;g++)f[e.attributes[g].name]=e.attributes[g].value;(p||l)&&(p&&(l&&p.__html==l.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,r,n,o){var a;for(a in r)"children"===a||"key"===a||a in t||O(e,a,null,r[a],n);for(a in t)o&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||O(e,a,t[a],r[a],n)}(e,h,f,a,c),p)t.__k=[];else if(g=t.props.children,C(e,Array.isArray(g)?g:[g],t,n,o,a&&"foreignObject"!==m,i,s,i?i[0]:n.__k&&_(n,0),c),null!=i)for(g=i.length;g--;)null!=i[g]&&v(i[g]);c||("value"in h&&void 0!==(g=h.value)&&(g!==e.value||"progress"===m&&!g)&&O(e,"value",g,f.value,!1),"checked"in h&&void 0!==(g=h.checked)&&g!==e.checked&&O(e,"checked",g,f.checked,!1))}return e}function N(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function D(e,t,r){var o,a;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||N(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&D(o[a],t,"function"!=typeof e.type);r||null==e.__e||v(e.__e),e.__e=e.__d=void 0}function U(e,t,r){return this.constructor(e,r)}function M(e,t,o){var a,i,s;n.__&&n.__(e,t),i=(a="function"==typeof o)?null:o&&o.__k||t.__k,s=[],P(t,e=(!a&&o||t).__k=g(b,null,[e]),i||d,d,void 0!==t.ownerSVGElement,!a&&o?[o]:i?null:t.firstChild?r.call(t.childNodes):null,s,!a&&o?o:i?i.__e:t.firstChild,a),L(s,e)}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}function F(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r=f.slice,n={__e:function(e,t){for(var r,n,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},a=0,w.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},r),this.props)),e&&m(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},w.prototype.render=b,s=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0,o(1038);var W=function(){if(window.location.href.includes("#route-debug")){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,["[ROUTE-LOG]"].concat(r))}},H=o(4418),G=function(){var e;function r(){return n.apply(this,arguments)}function n(){return(n=t(p().mark((function e(){var t,r,n,a,i,s,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.e("SentryBrowser").then(o.bind(o,7073));case 3:return t=e.sent,r=t.BrowserClient,n=t.Hub,a=t.defaultIntegrations,i=/localhost:1234|sentry\.spec\.js|route-widget-shopify-stable\.min\.js|route-widget-shopify-stable-v2\.min\.js/gim,s=new r({dsn:H.sentryDSN,release:H.sentryRelease,sampleRate:.2,environment:"production",integrations:F(a),beforeSend:function(e,t){var r,n,o,a,s;return(null==e||null===(r=e.exception)||void 0===r||null===(n=r.values[0])||void 0===n||null===(o=n.stacktrace)||void 0===o||null===(a=o.frames[0])||void 0===a||null===(s=a.filename)||void 0===s?void 0:s.match(i))&&e}}),(c=new n(s)).run((function(e){e.configureScope((function(e){var t,r,n,o={"location.href":window.location.href,"shopify.shop":null===(t=window.Shopify)||void 0===t?void 0:t.shop,"shopify.theme.name":null===(r=window.Shopify)||void 0===r||null===(n=r.theme)||void 0===n?void 0:n.name};e.setExtras(o)}))})),e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(0),W(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return{captureException:function(n){return t(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,W(n),void 0!==e){t.next=6;break}return t.next=5,new r;case 5:e=t.sent;case 6:e.captureException(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),W(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}();window.addEventListener("error",(function(e){G.captureException(e)})),window.addEventListener("unhandledrejection",(function(e){G.captureException(e.reason)}));const V=G;function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t,r){return t&&X(e.prototype,t),r&&X(e,r),e}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=void 0,ne=function(){var e=t(p().mark((function e(t){var r,n,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o.length>1&&void 0!==o[1]?o[1]:{},"function"!=typeof window.CustomEvent&&(window.CustomEvent=re.CustomEvent),(n=new CustomEvent(t,{detail:r})).initEvent(t,!0,!0),document.dispatchEvent(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=function(){function e(){J(this,e)}var r;return K(e,null,[{key:"init",value:(r=t(p().mark((function t(r,n,o,a,i,s,c,u,l){var d=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W("* Middleware - init"),t.next=3,e.fetchProtectCoreScript("".concat(H.protectCoreURL,"?shop=").concat(a)).then((function(){d.widget=window.Route,d.storeDomain=a,d.environment=e.convertEnvironment(i.toLowerCase()),d.merchantId=s,d.storeName=c,d.theming=e.buildTheming(u,l),e.loadListeners(r,n,o)})).catch((function(e){V.captureException(e)}));case 3:case"end":return t.stop()}}),t)}))),function(e,t,n,o,a,i,s,c,u){return r.apply(this,arguments)})},{key:"buildTheming",value:function(t,r){return r=e.convertDeskopAlign(r),ae(ae({},t&&{mode:this.widget.Theme.Mode.DarkMode}),r&&{alignment:r})}},{key:"convertDeskopAlign",value:function(e){switch(e){case"left":return this.widget.Theme.Alignment.Left;case"center":return this.widget.Theme.Alignment.Center;case"right":return this.widget.Theme.Alignment.Right;default:return}}},{key:"config",value:function(t,r,n){try{W("* Middleware - config: \n",this.storeDomain,{subtotal:t,currency:r,status:n}),n=e.convertStatus(n),this.widget.Protection.render({storeDomain:this.storeDomain,subtotal:t,currency:r,environment:this.environment,status:n,merchantId:this.merchantId,storeName:this.storeName,theming:this.theming})}catch(e){V.captureException(e)}}},{key:"convertStatus",value:function(e){switch(e){case!0:return Route.Coverage.ActiveByDefault;case!1:return Route.Coverage.InactiveByDefault}}},{key:"convertEnvironment",value:function(e){return"production"===e?Route.Environment.Production:Route.Environment.Dev}},{key:"loadListeners",value:function(t,r,n){e.onLoad(),e.onRendered(),e.onStatusChange(t),e.onGetQuote(r),e.onModalOpen()}},{key:"onLoad",value:function(){this.widget.Protection.on("load",(function(){window.Routeapp.analytics.send({action:"load",event_category:"route-widget",event_label:"widget",value:!0}),W("* Event: Loaded!")}))}},{key:"onRendered",value:function(){this.widget.Protection.on("rendered",(function(){ne("route:render",{rendered:!0}),window.Routeapp.analytics.send({action:"render",event_category:"route-widget",event_label:"widget",value:!0}),W("* Event: Rendered!")}))}},{key:"onStatusChange",value:function(e){this.widget.Protection.on("status_change",(function(t){window.Routeapp.analytics.send({action:t.to?"check":"uncheck",event_category:"route-widget",event_label:"checkbox",value:t.to}),e(t.to),W("* Event: Checked! - ",t.to)}))}},{key:"onGetQuote",value:function(e){this.widget.Protection.on("get_quote",(function(t){e(t.quote),W("* Event: Got quote! -",t.quote)}))}},{key:"onCreateQuote",value:function(e){this.widget.Protection.on("create_quote",(function(t){e(t.quote.id),W("* Event: Got create quote")}))}},{key:"onModalOpen",value:function(){this.widget.Protection.on("modal_open",(function(e){window.Routeapp.analytics.send({action:"click",event_category:"route-widget",event_label:"icon",value:e.to}),W("* Event: Modal triggered!")}))}},{key:"updateQuoteWithVariant",value:function(e){this.widget.Protection.forceUpdateQuote(e,!1)}},{key:"setRouteOff",value:function(){W("* Setting Route"),this.widget.Protection.hide()}},{key:"createQuote",value:function(e,t,r,n){W("* Middleware - createQuote "),this.widget.Protection.createQuote(e,t,r,n)}}]),e}();te(ie,"widget",void 0),te(ie,"storeDomain",void 0),te(ie,"environment",void 0),te(ie,"merchantId",void 0),te(ie,"storeName",void 0),te(ie,"theming",void 0),te(ie,"fetchProtectCoreScript",(function(e){return new Promise((function(t,r){var n;if(null!==(n=window.Route)&&void 0!==n&&n.Protection)return t();var o=document.createElement("script");o.setAttribute("src",e),o.setAttribute("data-route-widget","true"),o.addEventListener("load",t),o.addEventListener("error",r),ie.removeProtectCoreScripts(),document.body.appendChild(o)}))})),te(ie,"removeProtectCoreScripts",(function(){document.querySelectorAll("[data-route-widget]").forEach((function(e){return e.remove()}))}));var se=o(1806),ce=o.n(se),ue=function(){return window.location.href.includes("checkouts")&&!window.location.href.includes("thank_you")&&!window.location.href.includes("account/login")},le=function(){return window.location.href.includes("orders/")||window.location.href.includes("checkouts")&&window.location.href.includes("thank_you")},pe=function(){return ue()&&window.location.href.includes("step=payment_method")};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he="route-merchant-info";function me(){var e="";return window.Shopify&&void 0!==window.Shopify?e=window.Shopify.shop?window.Shopify.shop:window.Shopify.Checkout.apiHost:(e=document.location.origin.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],window.Routeapp.analytics.send({action:"error_reading_shopifyhook",event_category:"route-widget",event_label:"widget"})),e}function ve(){var e,t,r,n=null===(e=window.Shopify)||void 0===e||null===(t=e.Checkout)||void 0===t?void 0:t.token,o=null===(r=document.querySelector('meta[name="shopify-checkout-authorization-token"]'))||void 0===r?void 0:r.content;return"gid://shopify/Checkout/".concat(n,"?key=").concat(o)}function ge(){var e,t,r=me(),n=ue()?null===(e=window.Shopify)||void 0===e||null===(t=e.Checkout)||void 0===t?void 0:t.token:"",o={shop:r,checkoutToken:n,shopifyCheckoutAuthorizationToken:ue()&&n?document.querySelector("[name=shopify-checkout-authorization-token]").getAttribute("content"):"","Content-type":"application/json;charset=UTF-8"};return ue()&&ke()?fe(fe({},o),{},{"X-Shopify-Domain":r,"X-Shopify-Checkout-Token":ve(),"X-Shopify-Storefront-Token":sessionStorage.getItem("route-storefront-token")}):o}var ye=function(){var e=t(p().mark((function e(){var t,r,n,o,a,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(o=(null===(t=localStorage)||void 0===t?void 0:t.getItem(he))&&JSON.parse(localStorage.getItem(he)))&&null!=o&&null!==(r=o.merchantInfo)&&void 0!==r&&r.merchantId&&null!=o&&null!==(n=o.merchantInfo)&&void 0!==n&&n.storeName&&null!=o&&o.timestamp){e.next=4;break}return e.abrupt("return",null);case 4:if(a=o.merchantInfo,i=o.timestamp,!((new Date).getTime()-i>36e5)){e.next=10;break}return localStorage.removeItem(he),e.abrupt("return",null);case 10:return e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),console.error("error getting route merchant info from local: ",e.t0),V.captureException(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=t(p().mark((function e(t){var r,n,o,a,i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=3,n=0;case 2:return e.prev=3,e.next=6,ce().get("".concat(H.shopifyServiceURL,"/v1/merchant-info/").concat(t));case 6:if(o=e.sent,(a=o.data)&&null!=a&&a.merchantId&&null!=a&&a.storeName){e.next=10;break}return e.abrupt("return",null);case 10:return i={merchantId:a.merchantId,storeName:a.storeName},s=JSON.stringify({merchantInfo:i,timestamp:(new Date).getTime()}),localStorage.setItem(he,s),e.abrupt("return",i);case 16:if(e.prev=16,e.t0=e.catch(3),++n!==r){e.next=23;break}return console.error("error getting merchant info from remote: ".concat(t)),window.Routeapp.analytics.send({action:"error_getting_merchant_info",event_category:"route-widget",event_label:"widget",value:JSON.stringify(e.t0)}),V.captureException(e.t0),e.abrupt("break",25);case 23:e.next=2;break;case 25:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();function we(e){return _e.apply(this,arguments)}function _e(){return(_e=t(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:if(e.t1=e.sent,e.t1){e.next=7;break}return e.next=6,be(t);case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=null;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return sessionStorage.getItem("route-storefront-token")}var xe=o(2604);function Se(){window.cachedCart=null}function Ce(e){return e&&e.headlessWidget?H.headlessApiURL:document.location.origin}var Re=function(){var e=t(p().mark((function e(t){var r,n,o,a,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.cachedCart||t.ignoreCachedCart){e.next=2;break}return e.abrupt("return",window.cachedCart);case 2:return r=Ce(t),n=(new Date).getTime(),o="".concat(r,"/cart.js?timestamp=").concat(n),o=(0,xe.c)(o),a=ge(),e.next=9,ce().get(o,{headers:a});case 9:return c=void 0,u=void 0,(null==(s=i=e.sent)||null===(c=s.data)||void 0===c||null===(u=c.items)||void 0===u?void 0:u.length)>0&&(window.cachedCart=s,setTimeout(Se,2500)),e.abrupt("return",i);case 12:case"end":return e.stop()}var s,c,u}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=t(p().mark((function e(t,r){var n,o,a,i,s,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ce(r),o=ge(),ue()&&window.Routeapp.analytics.send({action:"checkout-updateShopifyCart()-initiated",event_category:"route-widget - update cart",event_label:"{\n          store: ".concat(n,",\n          checkout_token: ").concat(null===(a=window.Shopify)||void 0===a||null===(i=a.Checkout)||void 0===i?void 0:i.token,",\n        }"),value:!0}),e.next=6,ce().post("".concat(n,"/cart/update.js"),t,{headers:o});case 6:return s=e.sent,ue()&&window.Routeapp.analytics.send({action:"checkout-updateShopifyCart()-completed",event_category:"route-widget - update cart",event_label:"{\n          store: ".concat(n,",\n          checkout_token: ").concat(null===(c=window.Shopify)||void 0===c||null===(u=c.Checkout)||void 0===u?void 0:u.token,",\n        }"),value:!0}),Se(),e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(0),V.captureException(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),Ae=function(){var e=t(p().mark((function e(t,r){var n,o,a,i,s,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Ce(r),c=ge(),window.Routeapp.analytics.send({action:"headless-updateShopifyCart()-initiated",event_category:"route-widget - update cart",event_label:"{\n        store: ".concat(s,",\n        checkout_token: ").concat(null===(n=window.Shopify)||void 0===n||null===(o=n.Checkout)||void 0===o?void 0:o.token,",\n      }"),value:!0}),e.next=6,ce().post("".concat(s,"/cart/update.js"),t,{headers:c});case 6:return u=e.sent,window.Routeapp.analytics.send({action:"headless-updateShopifyCart()-completed",event_category:"route-widget - update cart",event_label:"{\n        store: ".concat(s,",\n        checkout_token: ").concat(null===(a=window.Shopify)||void 0===a||null===(i=a.Checkout)||void 0===i?void 0:i.token,",\n      }"),value:!0}),e.abrupt("return",u);case 11:e.prev=11,e.t0=e.catch(0),V.captureException(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),Oe=function(){var e=t(p().mark((function e(r){var n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,o=setInterval(t(p().mark((function e(){var a,i,s,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=t(p().mark((function e(){var t,r,n,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==sessionStorage.getItem("routeChecked")){e.next=2;break}return e.abrupt("return");case 2:return t="true"===sessionStorage.getItem("routeChecked"),e.next=5,a();case 5:if(r=e.sent,t!==r){e.next=14;break}return e.next=9,ce().get(document.location);case 9:n=e.sent,(i=document.createElement("div")).innerHTML=n.data,document.querySelector("#order-summary").innerHTML=i.querySelector("#order-summary").innerHTML,clearInterval(o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},i=function(){return(i=t(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(r);case 2:t=e.sent,n=0;case 4:if(!(n<t.data.items.length)){e.next=10;break}if("Route"!==t.data.items[n].vendor){e.next=7;break}return e.abrupt("return",!0);case 7:n++,e.next=4;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(){return i.apply(this,arguments)},n>10&&clearInterval(o),!pe()){e.next=8;break}return e.next=8,s();case 8:n++;case 9:case"end":return e.stop()}}),e)}))),500);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Te={getShopifyCart:Re,getCartSubtotal:function(e){try{var t=0;if(e.items)for(var r=0;r<e.items.length;r++){var n=e.items[r];n.requires_shipping&&(t+=n.original_line_price?n.original_line_price:n.final_line_price)}return t}catch(e){V.captureException(e)}},updateShopifyCart:Ee,updateShopifyCartHeadless:Ae,updateOrderSummaryPaymentPage:Oe};var Ie=o(7106),Pe=function(){function e(t){var r=this;J(this,e),this.interceptors=[],this.callbacks={},t.forEach((function(e){r.addInterceptor(e)}))}return K(e,[{key:"addInterceptor",value:function(e){this.interceptors.push(new e)}},{key:"intercept",value:function(){var e=this;this.interceptors.forEach((function(t){return t.intercept(e.callbacks)}))}},{key:"release",value:function(){this.interceptors.forEach((function(e){return e.release()}))}},{key:"on",value:function(e,t){this.callbacks[e]?this.callbacks[e].push(t):this.callbacks[e]=[t]}}]),e}(),Le=function(){function e(){J(this,e),this.interceptions={},this.requestBody}return K(e,[{key:"intercept",value:function(e){this.callbacks=e;var t=XMLHttpRequest.prototype,r=t.send,n=t.open,o=this;t.open=function(e,t){return e=e||"GET",o.interceptions={method:e,url:t},o.interceptOpen(),n.apply(this,arguments)},t.send=function(e){var t=this,n=this;o.requestBody=e,n.addEventListener("readystatechange",(function(){4===n.readyState&&(t.response?o.interceptSend(t.response,o.requestBody):"text"!==t.responseType&&""!==t.responseType||!t.responseText||o.interceptSend(t.responseText,o.requestBody))})),r.apply(n,arguments)}}},{key:"interceptOpen",value:function(){}},{key:"interceptSend",value:function(e,t){var r,n,o;null!==(r=this.interceptions.url)&&void 0!==r&&r.match(/cart.(change)/g)&&this.callbacks["http-cart-change"]?this.callbacks["http-cart-change"].forEach((function(e){return e()})):null!==(n=this.interceptions.url)&&void 0!==n&&n.match(/cart.(update)/g)&&this.callbacks["http-cart-update"]?this.callbacks["http-cart-update"].forEach((function(e){return e(t)})):null!==(o=this.interceptions.url)&&void 0!==o&&o.match(/cart.(add)/g)&&this.callbacks["http-cart-add"]&&this.callbacks["http-cart-add"].forEach((function(e){return e()}))}}]),e}(),je=function(){function e(){J(this,e)}return K(e,[{key:"intercept",value:function(e){this.callbacks=e,this.interceptFetch()}},{key:"interceptFetch",value:function(){if(window.routeInterceptedFetch)return!1;var e=this,t=window.fetch;window.fetch=function(){var r=arguments,n=this;return new Promise((function(o,a){t.apply(n,r).then((function(t){"string"!=typeof r[0]&&o(t),r[0].match(/cart.(change)/g)&&e.callbacks["http-cart-change"]?e.callbacks["http-cart-change"].forEach((function(e){return e()})):r[0].match(/cart.(update)/g)&&e.callbacks["http-cart-update"]?e.callbacks["http-cart-update"].forEach((function(e){return e()})):r[0].match(/cart.(add)/g)&&e.callbacks["http-cart-add"]&&e.callbacks["http-cart-add"].forEach((function(e){return e()})),o(t)})).catch((function(e){a(e)}))}))},window.routeInterceptedFetch=!0}}]),e}(),Ne=new Pe([Le,je]);var De=function(e){Q(u,e);var r,n,o,a,i,s,c=(i=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(i);if(s){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Z(this,e)});function u(){return J(this,u),c.apply(this,arguments)}return K(u,[{key:"componentDidMount",value:(a=t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initProtectCore();case 2:return e.next=4,this.initInterceptor();case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"initProtectCore",value:(o=t(p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.storeDomain=me(),e.next=3,we(this.storeDomain);case 3:return this.merchantInfo=e.sent,this.merchantId=this.merchantInfo&&this.merchantInfo.merchantId,e.next=7,ie.fetchProtectCoreScript("".concat(H.protectCoreURL,"?shop=").concat(this.storeDomain)).then((function(){t.banner=window.Route,t.renderBanner()})).catch((function(e){V.captureException(e)}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"initInterceptor",value:(n=t(p().mark((function e(){var r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne.on("http-cart-change",t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W("cart CHANGE on Banner"),e.next=3,r.renderBanner();case 3:case"end":return e.stop()}}),e)})))),Ne.on("http-cart-update",t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W("cart UPDATE on Banner"),e.next=3,r.renderBanner();case 3:case"end":return e.stop()}}),e)})))),Ne.on("http-cart-add",t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W("cart ADD on Banner"),e.next=3,r.renderBanner();case 3:case"end":return e.stop()}}),e)})))),Ne.intercept();case 4:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"renderBanner",value:(r=t(p().mark((function e(){var t,r,n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.getShopifyCart({ignoreCachedCart:!0});case 3:t=e.sent,r=t.data,n=Te.getCartSubtotal(r)/100,o=r.currency&&Ie.c.includes(r.currency.toUpperCase())?r.currency.toUpperCase():"",this.banner.Protection.renderBanner({environment:ie.convertEnvironment("production".toLowerCase()),storeDomain:this.storeDomain,merchantId:this.merchantId,currency:o||"",subtotal:n||0}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),V.captureException(e.t0),window.Routeapp.analytics.send({action:"error_rendering_shopify_banner",event_category:"route-banner",event_label:"banner",value:JSON.stringify(e.t0)});case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return r.apply(this,arguments)})}]),u}(w);function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}te(De,"banner",void 0),te(De,"storeDomain",void 0),te(De,"merchantId",void 0),te(De,"merchantInfo",void 0);var Me=o(6526),Be=o.n(Me),qe=function(e){localStorage.setItem("route-select-state",JSON.stringify({state:e?"1":"0",timestamp:(new Date).getTime()}))},Fe=function(e,t,r){var n=null;return e?n=!1:(t||r)&&(n=!0),We(n)},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=864e5,r=localStorage.getItem("route-select-state");if(null===r)return null!==e&&qe(e),e;r=JSON.parse(r);var n=(new Date).getTime()-r.timestamp;return n>t?(localStorage.removeItem("route-select-state"),e):"1"===r.state},He=function(e,t){var r=e.items.some((function(e){return"route"===e.vendor.toLowerCase()&&e.price>0}));return 1===e.items.length&&r?(sessionStorage.setItem("addingToCart",!0),t):(t||null===t&&"checked"===sessionStorage.getItem("route-default-status"))&&!r&&"false"===sessionStorage.getItem("addingToCart")&&"customer"===sessionStorage.getItem("payment-responsible")?(qe(!1),!1):(sessionStorage.setItem("addingToCart",!1),t)},Ge=function(e){var t=e.state.loadingSpinnerActive;if(e.props.headlessWidget&&!t){var r=document.querySelector(".order-summary__sections");r&&r.classList.add("route-loading"),e.setState({loadingSpinnerActive:!0})}},Ve=function(e){var t=document.querySelector(".order-summary__sections");t&&t.classList.remove("route-loading"),e.setState({loadingSpinnerActive:!1})};function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xe=function(e,t){try{return Ye(e).filter((function(e){return 0!==e.quantity})).map((function(e){var t=e.original_line_price?e.original_line_price:e.final_line_price;return{id:e.id.toString(),unit_price:(t/100).toFixed(2),quantity:e.quantity}}))}catch(e){RouteSentry.captureException(e)}},Ke=function(e){return e.requires_shipping&&"route"!==e.vendor.toLowerCase()},Ye=function(e){return e.filter(Ke)},Qe=function(e,t){var r,n="".concat(e,":1"),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;n+=",".concat(a.id,":").concat(a.quantity)}}catch(e){o.e(e)}finally{o.f()}return n};const $e=function(e){return!(!e||!e.length)&&e.some((function(e){return e.requires_shipping}))};var ze=function(){var e=t(p().mark((function e(t){var r,n,o,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.getShopifyCart(t);case 3:if(r=e.sent,n=r.data,o=n.token,a=localStorage.getItem("cart-ref"),o===a){e.next=11;break}return localStorage.setItem("cart-ref",o),e.next=11,Ze("initialized",t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error init quote id",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=t(p().mark((function e(t,r){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={attributes:{__quote_id:t}},e.prev=1,e.next=4,Te.updateShopifyCart(n,r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("Error setting quote id");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,r){return e.apply(this,arguments)}}(),et=function(){var e=t(p().mark((function e(t,r){var n,o,a,i,s,c,u,l,d,f,h,m,v,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.includes(",")?(l=r.split(","),d=Ue(l,6),o=d[0],a=d[1],i=d[2],s=d[3],c=d[4],u=d[5],i=i||"",s=s||"",c=c||"",u=u||""):o=a=r,"/cart"!==window.location.pathname){e.next=5;break}return e.next=5,tt(t,"".concat(o,",").concat(i));case 5:return f=null!==(n=s)&&void 0!==n&&n.includes("http")?s:"".concat(rt,"/").concat(s),e.next=8,at(f);case 8:if(h=e.sent,ot(o,a,h,u),!i){e.next=18;break}if(m=h,!c){e.next=17;break}return g=null!==(v=c)&&void 0!==v&&v.includes("http")?c:"".concat(rt,"/").concat(c),e.next=16,at(g);case 16:m=e.sent;case 17:ot(i,i,m,u);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,r){return e.apply(this,arguments)}}(),tt=function(){var e=t(p().mark((function e(t,r){var n,o,a,i,s,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=t||r).includes(",")&&(a=n.split(","),i=Ue(a,2),n=i[0],o=i[1]),s="".concat(rt,"/cart"),e.next=6,at(s);case 6:c=e.sent,ot(n,n,c),o&&ot(o,o,c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),rt=document.location.origin,nt=function(e,t){return e.querySelector(t)},ot=function(e,t,r,n){var o=nt(document,e),a="body"===t?r:nt(r,t);a.innerHTML=a.innerHTML.replace(n,""),o.innerHTML=a.innerHTML},at=function(){var e=t(p().mark((function e(t){var r,n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce().get(t);case 2:return r=e.sent,n=r.data,(o=document.createElement("div")).innerHTML=n,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=document.location.origin,st="route-routeins",ct=function(){var e=t(p().mark((function e(){var t,r,n,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(r=(null===(t=localStorage)||void 0===t?void 0:t.getItem(st))&&JSON.parse(localStorage.getItem(st)))&&null!=r&&r.variants&&null!=r&&r.timestamp){e.next=4;break}return e.abrupt("return",null);case 4:if(n=r.variants,o=r.timestamp,!((new Date).getTime()-o>36e5)){e.next=10;break}return localStorage.removeItem(st),e.abrupt("return",null);case 10:return e.abrupt("return",n);case 13:e.prev=13,e.t0=e.catch(0),console.error("error getting route variants from local: ",e.t0),V.captureException(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=t(p().mark((function e(){var t,r,n,o,a,i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce().get("".concat(it,"/products/routeins.js"));case 3:if((n=e.sent)&&null!=n&&null!==(t=n.data)&&void 0!==t&&t.variants){e.next=6;break}return e.abrupt("return",null);case 6:return o=null==n||null===(r=n.data)||void 0===r?void 0:r.variants,a=(new Date).getTime(),i=JSON.stringify({variants:o,timestamp:a}),localStorage.setItem(st,i),e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(0),console.error("error getting route variants from remote: ",e.t0),404!==(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)&&V.captureException(e.t0);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:if(e.t1=e.sent,e.t1){e.next=7;break}return e.next=6,ut();case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=10;break}e.t0=null;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function pt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt=document.location.origin,vt=function(e){Q(i,e);var r,n,o,a=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(n);if(o){var r=ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Z(this,e)});function i(){var e;J(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return te(z(e=a.call.apply(a,[this].concat(n))),"state",{errored:!1,storeName:"",storeDomain:"",merchantId:"",currency:"USD",updatedVariantId:"",quoteAmount:"0.98",subtotalAmount:0,routeInCart:!1,routeIsChecked:!!e.props.defaultChecked,retryShippingMethods:5,fixingCart:!1,loadingSpinnerActive:!1,cartFixEvent:[]}),te(z(e),"isRouteVariantUpdate",function(){var e=t(p().mark((function e(t){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(t),e.next=4,lt();case 4:return n=e.sent,e.abrupt("return",n.some((function(e){return 1==r.updates[e.id]})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),te(z(e),"onToggle",function(){var r=t(p().mark((function t(r){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sessionStorage.removeItem("route-added-once"),qe(r),Ge(z(e)),e.props.headlessWidget&&(n=!!r,sessionStorage.setItem("routeChecked",n)),!r){t.next=10;break}return sessionStorage.setItem("addingToCart",!0),t.next=8,e.setEnvironment();case 8:t.next=20;break;case 10:return t.next=12,e.removeAllRouteItemsFromCart();case 12:if(!e.props.reloadWithoutRefresh){t.next=17;break}return t.next=15,e.updateCartWithoutRefresh(e.props.reloadWithoutRefresh);case 15:t.next=20;break;case 17:if(!e.props.reloadWithoutRefreshV2){t.next=20;break}return t.next=20,et(e.props.reloadWithoutRefreshCartPage,e.props.reloadWithoutRefreshV2);case 20:ne("route:toggle",{toggled:r});case 21:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"onGetQuote",function(){var r=t(p().mark((function t(r){var n,o,a,i,s,c;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return sessionStorage.setItem("route-default-status",r.paymentResponsible.toggleState),t.next=3,lt();case 3:return n=t.sent,t.next=6,e.getRouteVariantNew(r.premium.amount,n);case 6:if(o=t.sent,a=o.price/100,ie.updateQuoteWithVariant(a),!e.state.fixingCart){t.next=15;break}return e.setState({fixingCart:!1}),t.next=13,e.fixCart(o);case 13:return e.props.fixingCheckoutCart&&(e.props.checkoutCartFixed=!0,e.props.slideoutCheckerForceRedirect?window.location.href=e.props.slideoutCheckerForceRedirect:(i=e.state.cartFixEvent).submitter?i.submitter.click():i.target.click()),t.abrupt("return");case 15:if(sessionStorage.setItem("payment-responsible",r.paymentResponsible.type),"customer"!==r.paymentResponsible.type){t.next=26;break}if(!(null===(s=Fe(e.props.forceOptIn,e.props.forceOptOut,e.props.defaultChecked))&&"checked"===r.paymentResponsible.toggleState||s)){t.next=22;break}e.updateCart(o),t.next=24;break;case 22:return t.next=24,e.removeAllRouteItemsFromCart();case 24:t.next=40;break;case 26:return t.next=28,e.removeAllRouteItemsFromCart();case 28:if(c=t.sent,!e.props.reloadWithoutRefresh){t.next=34;break}return t.next=32,e.updateCartWithoutRefresh(e.props.reloadWithoutRefresh);case 32:t.next=40;break;case 34:if(!e.props.reloadWithoutRefreshV2){t.next=39;break}return t.next=37,et(e.props.reloadWithoutRefreshCartPage,e.props.reloadWithoutRefreshV2);case 37:t.next=40;break;case 39:"merchant"===r.paymentResponsible.type&&e.props.hideRouteProductFromCart&&!window.location.href.includes("/cart")&&e.hideRouteFromCart(e.props.hideRouteProductFromCart,c,r.premium.currency);case 40:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"onCreateQuote",function(){var r=t(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.headlessWidget){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ze(r,e.props);case 4:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"updateCart",function(){var r=t(p().mark((function t(r){var n,o,a,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=[],t.next=4,e.getShopifyCart();case 4:if(0!==(o=t.sent).data.items.length||!sessionStorage.getItem("addToCartTrigger")){t.next=15;break}case 6:if(0!==o.data.items.length){t.next=12;break}return t.next=9,e.getShopifyCart();case 9:o=t.sent,t.next=6;break;case 12:sessionStorage.setItem("addToCartTrigger",!1),t.next=16;break;case 15:sessionStorage.getItem("addToCartTrigger")&&sessionStorage.setItem("addToCartTrigger",!1);case 16:if(a=o.data,i=[],a.items.forEach((function(e,t){"Route"===e.vendor?(e.indexInCart=t,n.push(e)):i.push(e)})),0!==i.length||!1!==e.props.ignoreSubtotal){t.next=22;break}return e.removeAllRouteItemsFromCart(),t.abrupt("return");case 22:return e.props.permalinkButtonSelector&&e.permalinkButtonsCheck(r.id,i),e.setState({currency:a.currency,updatedVariantId:r.id,quoteAmount:r.price/100}),t.next=26,e.handleOrder(!0,a,n,r);case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(0),console.error("error updating route variant in cart: ",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"fixCart",function(){var r=t(p().mark((function t(r){var n,o,a,i,s,c,u,l,d;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShopifyCart();case 2:for(n=t.sent,o=n.data,a=o.items,i=!1,s=[],c=0;c<a.length;c++)"Route"===a[c].vendor&&(u=a[c],s.push(u.id),s.length>1&&(i=!0),u.quantity>1&&(i=!0),u.id!==r.id&&(i=!0));if(!i){t.next=17;break}for(l={updates:te({},r.id,1)},d=0;d<s.length;d++)s[d]!==r.id&&(l.updates[s[d]]=0);return e.props.cartStatus="verified",t.next=14,e.postUpdateCart(l);case 14:e.props.cartStatus="unverified",t.next=18;break;case 17:Ve(z(e));case 18:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"getRouteVariantNew",(function(e,t){var r;if(e<=Number(t[0].price/100))r=t[0];else if(e>=Number(t[t.length-1].price/100))r=t[t.length-1];else for(var n=Number(t[0].price/100),o=0;e>n;)r=t[o+=1],n=Number(t[o].price/100);return r})),te(z(e),"setEnvironment",t(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props.nameToListen,e.props.forceCheckbox&&e.addListener(),r&&e.listenForName(r),e.getCart(),e.watchForChanges();case 5:case"end":return t.stop()}}),t)})))),te(z(e),"CustomEvent",(function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r})),te(z(e),"setGlobalVariables",t(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:window.RouteWidget={check:function(){var t=e.state.routeIsChecked;t||window.RouteWidget.toggle(!t)},uncheck:function(){var t=e.state.routeIsChecked;!0===t&&window.RouteWidget.toggle(!!t)},toggle:function(t){e.setState({routeIsChecked:t})},reload:function(){e.setEnvironment()},getQuoteAmount:function(){return parseFloat(e.state.quoteAmount)},hasRouteInCart:function(){var e=t(p().mark((function e(){var t,r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).getTime(),e.next=4,ce().get("".concat(mt,"/cart.js?timestamp=").concat(t));case 4:return r=e.sent,n=r.data,e.abrupt("return",n.items&&n.items.some((function(e){return"route"===e.vendor.toLowerCase()&&e.price>0})));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),routeIsChecked:function(){return e.state.routeIsChecked}};case 1:case"end":return r.stop()}}),r)})))),te(z(e),"addListener",(function(){for(var t,r,n,o=function(){var t=document.getElementsByClassName("route-div")[0];t.querySelector("[data-toggle]")&&"true"===document.querySelector(".route-div [data-toggle]").dataset.toggle&&(e.setState({routeIsChecked:!1}),t.querySelector("[data-toggle]").click())},a=document.getElementsByClassName("line-item med_u-container med_u-block med_u-row d-table-row"),i=0;i<a.length;i++)a[i].innerText.includes("Route Shipping")&&(n=i,r=document.getElementsByClassName(a[i].children[2].children[0].children[2].children[0].className),t=document.getElementsByClassName(a[i].lastElementChild.className),r[n].addEventListener("click",o),t[n].addEventListener("click",o))})),te(z(e),"listenForName",(function(t){var r,n,o=function t(){if("className"===n)for(var o=0;o<r.length;o++)r[o].removeEventListener("click",t);else r.removeEventListener("click",t);sessionStorage.setItem("addToCartTrigger",!0),e.setEnvironment()};if(r=document.getElementsByClassName(t)){n="className";for(var a=0;a<r.length;a++)r[a].addEventListener("click",o)}else n="id",(r=document.getElementById(t)).addEventListener("click",o)})),te(z(e),"getShopifyCart",t(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Te.getShopifyCart(e.props);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))),te(z(e),"reloadWidget",t(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.prev=1,t.next=4,lt();case 4:r=t.sent,t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",console.error("ERROR getting Route Variants: ",t.t0));case 10:return t.next=12,e.getCart(r,!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))),te(z(e),"createQuote",(function(t){var r=e.props.headlessWidget?Shopify.Checkout?Shopify.Checkout.token:"":t.token,n=Xe(t.items,e.props.headlessWidget),o=Te.getCartSubtotal(t)/100,a=t.currency&&Ie.c.includes(t.currency.toUpperCase())?t.currency.toUpperCase():"";ie.createQuote(r,n,o,a)})),te(z(e),"getCart",t(p().mark((function t(){var r,n,o,a,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getShopifyCart();case 3:if(0!==(r=t.sent).data.items.length||!sessionStorage.getItem("addToCartTrigger")){t.next=14;break}case 5:if(0!==r.data.items.length){t.next=11;break}return t.next=8,e.getShopifyCart();case 8:r=t.sent,t.next=5;break;case 11:sessionStorage.setItem("addToCartTrigger",!1),t.next=15;break;case 14:sessionStorage.getItem("addToCartTrigger")&&sessionStorage.setItem("addToCartTrigger",!1);case 15:if(n=r.data,o=Fe(e.props.forceOptIn,e.props.forceOptOut,e.props.defaultChecked),o=He(n,o),0!=(a=Te.getCartSubtotal(n)/100)){t.next=23;break}return t.next=22,e.removeAllRouteItemsFromCart();case 22:return t.abrupt("return");case 23:i=n.currency&&Ie.c.includes(n.currency.toUpperCase())?n.currency.toUpperCase():"",ie.config(a,i,o),e.createQuote(n),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(0),console.error("error updating route variant in cart: ",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})))),te(z(e),"handleOrder",function(){var r=t(p().mark((function t(r,n,o,a){var i,s,c,u,l;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.getSubscriptionProducts(n,!1),s=e.getSubscriptionProducts(n,!0),c=r&&n.items.length>0||e.shouldUpdateRegularOrder(o,i,s,a)||!1!==e.props.ignoreSubtotal,u=sessionStorage.getItem("numberOfRoutesTurnedOn")?parseInt(sessionStorage.getItem("numberOfRoutesTurnedOn"),10):0,l=document.getElementsByClassName("route-div"),e.props.multipleWidgets&&!e.state.routeIsChecked&&e.props.forceOptOut&&u<l.length&&(c||e.setState({routeIsChecked:!0}),sessionStorage.setItem("numberOfRoutesTurnedOn",u+1)),!c){t.next=10;break}return sessionStorage.removeItem("addOnReload"),t.next=10,e.handleRegularOrder(o,a,n);case 10:case"end":return t.stop()}}),t)})));return function(e,t,n,o){return r.apply(this,arguments)}}()),te(z(e),"shouldUpdateRegularOrder",(function(e,t,r,n){return e.length>1||e.length>0&&0===t.length&&r.length>0||1===e.length&&e[0].id!==n.id||1===e.length&&1!==e[0].quantity})),te(z(e),"getSubscriptionProducts",(function(e,t){for(var r=[],n=0;n<e.items.length;n++)e.items[n].properties&&(t?"Route"===e.items[n].vendor:"Route"!==e.items[n].vendor)&&e.items[n].properties.hasOwnProperty("shipping_interval_frequency")&&r.push(e.items[n]);return r})),te(z(e),"handleRegularOrder",function(){var r=t(p().mark((function t(r,n,o){var a,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length>1||1===r.length&&(e.isSubscriptionProduct(r[0])||r[0].id!==n.id)||1===r.length&&1!==r[0].quantity)){t.next=7;break}return sessionStorage.setItem("addingToCart",!0),t.next=5,e.updateRouteVariantInCart(r,n.id);case 5:t.next=16;break;case 7:if(0!==r.length||e.routeHasBeenRemovedManually()){t.next=15;break}return sessionStorage.setItem("addingToCart",!0),t.next=11,e.addToCart(n.id,!0,!0,o);case 11:sessionStorage.setItem("route-added-once",!0),ue()&&(null===(a=window.Shopify)||void 0===a||null===(i=a.Checkout)||void 0===i?void 0:i.token)&&sessionStorage.setItem("route-current-checkout",window.Shopify.Checkout.token),t.next=16;break;case 15:0===r.length&&e.routeHasBeenRemovedManually()?(e.onToggle(!1),e.reloadWidget(),Ve(z(e))):e.props.reorderRefresh?location.reload():Ve(z(e));case 16:case"end":return t.stop()}}),t)})));return function(e,t,n){return r.apply(this,arguments)}}()),te(z(e),"routeHasBeenRemovedManually",(function(){var e,t,r=sessionStorage.getItem("route-added-once"),n=sessionStorage.getItem("route-current-checkout");return!!(ue()&&r&&n&&null!==(e=window.Shopify)&&void 0!==e&&null!==(t=e.Checkout)&&void 0!==t&&t.token)&&r&&!(n!==window.Shopify.Checkout.token)})),te(z(e),"isSubscriptionProduct",(function(e){return e.properties&&e.properties.hasOwnProperty("shipping_interval_frequency")})),te(z(e),"addToCart",function(){var r=t(p().mark((function t(r,n){var o,a,i,s=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!(s.length>2&&void 0!==s[2])||s[2],o=s.length>3?s[3]:void 0,ke()?(a=o.items).push({variant_id:r,quantity:1}):a={updates:te({},r,1)},t.prev=3,e.setState({routeIsChecked:!0}),i=!0,(e.props.disableReorder||e.props.nameToListen||e.props.headlessWidget)&&(i=!1),t.next=9,e.postUpdateCart(a,r,i,o);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(3),Ve(z(e)),t.abrupt("return",console.error("ERROR adding to cart: ",t.t0));case 15:e.props.nameToListen&&sessionStorage.setItem("routeAdded",!0),"/cart"===window.location.pathname&&n&&e.props.refreshClickAdd&&location.reload(),ue()&&!e.props.headlessWidget&&e.refreshCheckout(document.location,!0);case 18:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,t){return r.apply(this,arguments)}}()),te(z(e),"removeAllRouteItemsFromCart",function(){var r=t(p().mark((function t(r){var n,o,a,i,s,c,u;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShopifyCart();case 2:for(n=t.sent,o=n.data.items,a=!1,i=0,s={updates:{}},c=0;c<o.length;c++)"Route"===o[c].vendor&&(s.updates[o[c].key]=0,i+=o[c].price,a=!0);if(!a){t.next=26;break}if(t.prev=9,!ke()){t.next=16;break}return u=o.filter((function(e){if("Route"!==e.vendor)return e})),t.next=14,e.postUpdateCart(u);case 14:t.next=18;break;case 16:return t.next=18,e.postUpdateCart(s);case 18:return t.next=20,e.onChangeRouteProductVisibility(!1,void 0,r);case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(9),Ve(z(e)),t.abrupt("return",console.error("ERROR removing all Route items from cart: ",t.t0));case 26:return t.abrupt("return",i/100);case 27:case"end":return t.stop()}}),t,null,[[9,22]])})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"onChangeRouteProductVisibility",function(){var r=t(p().mark((function t(r,n,o){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o||e.setState({routeIsChecked:r}),n&&e.props.needsUpdate&&e.props.classNameRemove&&"/cart"!==window.location.pathname&&document.getElementsByClassName(e.props.classNameRemove)[n[0].indexInCart].click(),"/cart"!==window.location.pathname||e.props.reloadWithoutRefresh?e.props.reloadWithoutRefresh?e.updateCartWithoutRefresh(e.props.reloadWithoutRefresh):e.props.reloadWithoutRefreshV2&&et(e.props.reloadWithoutRefreshCartPage,e.props.reloadWithoutRefreshV2):location.reload(),!ue()||e.props.headlessWidget){t.next=6;break}return t.next=6,e.refreshCheckout(document.location,!0);case 6:case"end":return t.stop()}}),t)})));return function(e,t,n){return r.apply(this,arguments)}}()),te(z(e),"updateCartWithoutRefresh",function(){var r=t(p().mark((function t(r){var n,o,a,i,s,c,u,l,d,f,h,m,v,g,y,b,w,_;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="",r.includes(",")?(s=r.split(","),c=Ue(s,4),n=c[0],o=c[1],a=c[2],i=c[3],o=o||"",a=a||""):n=r,u=i||"".concat(mt,"/cart").concat(a),t.next=6,ce().get(u);case 6:l=t.sent,d=l.data,(f=document.createElement("div")).innerHTML=d,m=(h=function(e,t){return e.getElementsByClassName(t)[0]})(f,n),(v=e.props.reloadWithoutRefreshCartPage||n).includes(",")&&(y=v.split(","),b=Ue(y,2),v=b[0],g=b[1]),"/cart"===window.location.pathname?(m=h(f,v),h(document,v).innerHTML=m.innerHTML,g&&(w=h(f,g),h(document,g).innerHTML=w.innerHTML)):(h(document,n).innerHTML=m.innerHTML,o&&(_=h(f,o),h(document,o).innerHTML=_.innerHTML)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"hideRouteFromCart",function(){var e=t(p().mark((function e(t,r,n){var o,a,i,s,c,u,l,d,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.split(",").map((function(e){return e.trim()})),a=Ue(o,2),i=a[0],s=a[1],i&&s&&0!==r){e.next=3;break}return e.abrupt("return");case 3:if(c=/\d{1,3}(?:[.,]\d{3})*(?:[.,]\d{2})?/g,u=/[\d(\,|\.)]+[\,|\.]\d{2}$/g,l=document.getElementsByClassName(i),0!==(d=Array.from(l).filter((function(e){return e.innerText.includes("Route Package Protection")}))).length){e.next=9;break}return e.abrupt("return");case 9:d.forEach((function(e){return e.style.display="none"})),f=document.getElementsByClassName(s),Array.from(f).forEach((function(e){var t=e.innerText.match(c);if(t){var o=parseFloat(t[0].replace(/[.,]/g,""))/100-r,a=t[0].match(u),i=(0,Ie.T)(o%1!=0||a,navigator.language,o,n);i=i.match(c)[0],e.innerText=e.innerText.replace(t[0],i)}}));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),te(z(e),"postUpdateCart",function(){var r=t(p().mark((function t(r,n,o,a){var i,s,c,u,l,d;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=10;break}for(i=a.items,s={items:[{id:n,quantity:1}]},c=i.length-1;c>=0;c--)"Route"!==i[c].vendor&&(u={id:i[c].id,quantity:i[c].quantity,properties:i[c].properties},i[c].selling_plan_allocation&&i[c].selling_plan_allocation.selling_plan&&i[c].selling_plan_allocation.selling_plan.id&&(u.selling_plan=i[c].selling_plan_allocation.selling_plan.id),s.items.push(u));return t.next=7,e.reorderCartwithRetry(s,e.props.reloadWithoutRefresh,e.props.reloadWithoutRefreshV2,e.props.reloadWithoutRefreshCartPage,3);case 7:return l=t.sent,ne("route:cart_updated"),t.abrupt("return",l);case 10:if(!e.props.headlessWidget){t.next=15;break}Ge(z(e)),Te.updateShopifyCartHeadless(r,e.props).then((function(){ne("route:cart_updated"),e.refreshCheckout(document.location,!0)})).catch((function(){Ve(z(e))})),t.next=20;break;case 15:return t.next=17,Te.updateShopifyCart(r,e.props);case 17:return d=t.sent,ne("route:cart_updated"),t.abrupt("return",d);case 20:case"end":return t.stop()}}),t)})));return function(e,t,n,o){return r.apply(this,arguments)}}()),te(z(e),"reorderCartwithRetry",(function(t,r,n,o,a){if(a>0)return e.reorderCart(t,r,n,o).then((function(e){return Promise.resolve(e)})).catch((function(){return e.reorderCartwithRetry(t,r,n,o,--a)}));location.reload()})),te(z(e),"reorderCart",function(){var r=t(p().mark((function r(n,o,a,i){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,s){ce().post("".concat(mt,"/cart/clear.js")).then((function(){return ce().post("".concat(mt,"/cart/add.js"),n)})).then(function(){var n=t(p().mark((function t(n){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=5;break}return t.next=3,e.updateCartWithoutRefresh(o);case 3:t.next=8;break;case 5:if(!a){t.next=8;break}return t.next=8,et(i,a);case 8:r(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){console.log("Error reordering cart: ",e),s(e)}))})));case 1:case"end":return r.stop()}}),r)})));return function(e,t,n,o){return r.apply(this,arguments)}}()),te(z(e),"removeFromCart",function(){var r=t(p().mark((function t(r){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={updates:te({},r,0)},t.prev=1,t.next=4,e.postUpdateCart(n);case 4:return t.next=6,e.onChangeRouteProductVisibility(!1);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",console.error("ERROR removing from cart: ",t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"updateRouteVariantInCart",function(){var r=t(p().mark((function t(r,n){var o,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},a=!1,r.forEach((function(e){return e.id===n?(o.updates=ht(ht({},o.updates),{},te({},e.id,1)),a=!0):o.updates=ht(ht({},o.updates),{},te({},e.id,0))})),a?sessionStorage.setItem("addingToCart",!1):o.updates=ht(ht({},o.updates),{},te({},n,1)),t.prev=4,t.next=7,e.postUpdateCart(o);case 7:return t.next=9,e.onChangeRouteProductVisibility(!0,r);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",console.error("ERROR updating route variant in cart: ",t.t0));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,t){return r.apply(this,arguments)}}()),te(z(e),"refreshCheckout",function(){var r=t(p().mark((function t(r,n){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ue()){t.next=2;break}return t.abrupt("return");case 2:r=r&&r.href?r.href:r,ce().get(r).then((function(t){var r=document.createElement("div");r.innerHTML=t.data,n&&e.renderOrderSummary(r),e.updateShippingMethods(r),e.ensureRouteIsChecked(),ne("route:checkout_reloaded")})).catch((function(t){Ve(z(e)),e.retryRefreshCheckout(r,n),console.error("retry refresh checkout",t)}));case 4:case"end":return t.stop()}}),t)})));return function(e,t){return r.apply(this,arguments)}}()),te(z(e),"ensureRouteIsChecked",(function(){var t=setInterval((function(){var r=document.getElementsByClassName("product-table");if(r){var n=!(!r||!r[0].innerText.length)&&r[0].innerText.toLowerCase().includes("route shipping insurance"),o=e.state.routeIsChecked;if(n||o||clearInterval(t),n&&o){var a=document.getElementsByClassName("route-div")[0];if(a){var i=a.querySelector("[data-toggle]");i&&"false"===document.querySelector(".route-div [data-toggle]").dataset.toggle&&n&&(e.setState({routeIsChecked:!0}),a.querySelector("[data-toggle]").click(),clearInterval(t)),i&&"true"===document.querySelector(".route-div [data-toggle]").dataset.toggle&&n&&clearInterval(t)}}}}),1500)})),te(z(e),"renderOrderSummary",(function(t){Ve(z(e)),e.props.reloadProductsAndPriceSeparatelyCheckout?(document.querySelector(".order-summary__section--product-list").innerHTML=t.querySelector(".order-summary__section--product-list").innerHTML,document.querySelector(".order-summary__section--total-lines").innerHTML=t.querySelector(".order-summary__section--total-lines").innerHTML):document.querySelector("#order-summary").innerHTML=t.querySelector("#order-summary").innerHTML})),te(z(e),"renderShippingMethods",(function(e){document.querySelector(".section.section--shipping-method").innerHTML=e.querySelector(".section.section--shipping-method").innerHTML})),te(z(e),"updateShippingMethods",(function(t){if(null!==document.querySelector(".section.section--shipping-method"))if(null!==t.querySelector("div.section--shipping-method > .section__content > fieldset.content-box > *")){var r=document.querySelector('[name="checkout[shipping_rate][id]"]:checked').id;e.renderShippingMethods(t),e.removeShippingMethodsCSSTransition(),e.shippingMethodDoubleClick(r),e.setState({retryShippingMethods:10})}else{var n=t.querySelector("div.section--shipping-method [data-shipping-methods]");if(null!==n){var o=n.getAttribute("data-poll-target");o&&e.retryRefreshCheckout(mt+o,!1)}}})),te(z(e),"shippingMethodDoubleClick",(function(e){if(e){var t=document.querySelector("#".concat(e)),r=document.querySelectorAll('[name="checkout[shipping_rate][id]"]');(r[0]===t?r[r.length-1]:r[0]).click(),t.click()}})),te(z(e),"watchForChanges",(function(){var t,r,n=e.props.elementToListen,o=document.querySelectorAll(n),a={attributes:!0,childList:!0,subtree:!0},i=new MutationObserver((function(n){var o,a=pt(n);try{for(a.s();!(o=a.n()).done;){var i=o.value;sessionStorage.setItem("mutatationTargetOuterText",i.target.outerText),t=sessionStorage.getItem("mutatationTargetOuterText"),"childList"===i.type&&t!==r&&(r=sessionStorage.getItem("mutatationTargetOuterText"),e.reloadWidget())}}catch(e){a.e(e)}finally{a.f()}}));if(o.length>0){var s,c=pt(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;i.observe(u,a)}}catch(e){c.e(e)}finally{c.f()}}})),te(z(e),"adjustmentsForSlideOutCart",(function(){"/cart"!==window.location.pathname&&!ue()&&e.props.slideoutChecker&&e.attachSlideoutCartChecker()})),te(z(e),"attachSlideoutCartChecker",(function(){var r=z(e),n=window.$;if(void 0!==n&&"function"==typeof n){var o=n(document).ajaxSuccess;void 0!==o&&"function"==typeof o&&n(document).ajaxSuccess(function(){var e=t(p().mark((function e(t,n,o){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.url.match(/cart.(change)/g)&&!o.url.match(/cart.(update)/g)){e.next=3;break}return e.next=3,r.initiateFixCartSafe();case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}for(var a=document.evaluate(".//input | .//button | .//a",document.body,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=0;i<a.snapshotLength;i++){var s=a.snapshotItem(i);if(void 0!==s.value&&s.value.match(/check\s*out/gim)||void 0!==s.innerHTML&&s.innerHTML.match(/checkout/gim)||void 0!==s.name&&s.name.match(/check\s*out/gim)){var c=void 0;Element.prototype.closest&&(c=s.closest("form")),c?c.onsubmit=e.formCheckCartForAbnormalities:s.onclick=e.buttonCheckCartForAbnormalities}}})),te(z(e),"permalinkButtonsCheck",(function(t,r){var n=Qe(t,r);document.querySelectorAll(e.props.permalinkButtonSelector).forEach((function(e){var t=e.href.replace(/\/cart\/.*$/gi,"/cart/")+n;e.href=t}))})),te(z(e),"formCheckCartForAbnormalities",function(){var r=t(p().mark((function r(n){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.props.checkoutCartFixed||n.preventDefault(),e.props.fixingCheckoutCart||(e.props.fixingCheckoutCart=!0,e.setState({cartFixEvent:n},t(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initiateFixCart();case 2:case"end":return t.stop()}}),t)})))));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"buttonCheckCartForAbnormalities",function(){var r=t(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e.props.fixingCheckoutCart){t.next=8;break}return r.preventDefault(),r.stopImmediatePropagation(),t.next=5,e.initiateFixCart();case 5:return e.props.fixingCheckoutCart=!0,t.next=8,r.target.click();case 8:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}()),te(z(e),"initiateFixCart",t(p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.setState({fixingCart:!0},t(p().mark((function t(){var r,n,o,a,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getShopifyCart();case 2:if(r=t.sent,n=r.data,0!=(o=Te.getCartSubtotal(n)/100)){t.next=10;break}return e.setState({fixingCart:!1}),t.next=9,e.removeAllRouteItemsFromCart();case 9:return t.abrupt("return");case 10:if(a=n.currency&&Ie.c.includes(n.currency.toUpperCase())?n.currency.toUpperCase():"",i=Fe(e.props.forceOptIn,e.props.forceOptOut,e.props.defaultChecked),!(i=He(n,i))&&null!==i){t.next=18;break}ie.config(o,a,i),e.createQuote(n),t.next=21;break;case 18:return e.setState({fixingCart:!1}),t.next=21,e.removeAllRouteItemsFromCart();case 21:case"end":return t.stop()}}),t)}))));case 1:case"end":return r.stop()}}),r)})))),te(z(e),"initiateFixCartSafe",t(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.slideoutChecker||"unverified"!==e.props.cartStatus){t.next=3;break}return t.next=3,e.initiateFixCart();case 3:case"end":return t.stop()}}),t)})))),e}return K(i,[{key:"componentDidMount",value:(r=t(p().mark((function e(){var r,n,o,a=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(" * * * Widget Did Mounting * * * "),e.prev=1,r=me(),e.next=5,we(r);case 5:return n=e.sent,this.setState({merchantId:n.merchantId,storeName:n.storeName,storeDomain:r}),e.next=9,ie.init(this.onToggle,this.onGetQuote,this.onCreateQuote,r,"production",n.merchantId,n.storeName,this.props.darkUI,this.props.desktopAlign);case 9:if(this.props.headlessWidget){e.next=12;break}return e.next=12,ze(this.props);case 12:return e.next=14,this.setEnvironment();case 14:this.setGlobalVariables(),o=this,Ne.on("http-cart-change",t(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W("cart CHANGE on Widget"),e.next=3,o.reloadWidget();case 3:return e.next=5,o.initiateFixCartSafe();case 5:case"end":return e.stop()}}),e)})))),Ne.on("http-cart-update",function(){var e=t(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W("cart UPDATED on Widget"),!t||a.isRouteVariantUpdate(t)){e.next=4;break}return e.next=4,o.reloadWidget();case 4:return e.next=6,o.initiateFixCartSafe();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.adjustmentsForSlideOutCart(),Ne.intercept(),this.props.disableAnalytics&&(window.Routeapp.analytics.settings.disableGA=!0),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),V.captureException(e.t0),window.Routeapp.analytics.send({action:"error_mounting_shopify_widget",event_category:"route-widget",event_label:"widget",value:JSON.stringify(e.t0)});case 27:case"end":return e.stop()}}),e,this,[[1,23]])}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){console.log("Route Widget v1.2 - Unmounted")}},{key:"componentDidCatch",value:function(e){this.setState({errored:!0}),W(e),window.Routeapp.analytics.send({action:"error_render_shopify_widget",event_category:"route-widget",event_label:"widget",value:e})}},{key:"removeShippingMethodsCSSTransition",value:function(){document.querySelectorAll('[name="checkout[shipping_rate][id]"]').forEach((function(e){e.style.transition="none"}))}},{key:"retryRefreshCheckout",value:function(e,t){var r=this;this.state.retryShippingMethods>0?setTimeout((function(){r.setState({retryShippingMethods:r.state.retryShippingMethods-1}),r.refreshCheckout(e,t)}),500):Ve(this)}},{key:"render",value:function(){return g("div",{className:"route-empty"})}}]),i}(w);te(vt,"propTypes",{darkUI:Be().bool.isRequired,altUI:Be().bool.isRequired,desktopAlign:Be().string.isRequired,mobileAlign:Be().string.isRequired,classNameRemove:Be().string.isRequired,needsUpdate:Be().bool.isRequired,defaultChecked:Be().bool.isRequired,forceCheckbox:Be().bool.isRequired,refreshClickAdd:Be().bool.isRequired,reorderRefresh:Be().bool.isRequired,disableReorder:Be().bool.isRequired,slideoutChecker:Be().bool,slideoutCheckerForceRedirect:Be().string,fixingCheckoutCart:Be().bool,checkoutCartFixed:Be().bool,cartStatus:Be().string,reloadWithoutRefresh:Be().string,reloadWithoutRefreshV2:Be().string,reloadWithoutRefreshCartPage:Be().string,nameToListen:Be().string.isRequired,forceOptIn:Be().bool,forceOptOut:Be().bool,elementToListen:Be().string,disableAnalytics:Be().bool,defaultMaxUsdSubtotalAllowed:Be().number,defaultMinUsdSubtotalAllowed:Be().number,ignoreSubtotal:Be().bool,multipleWidgets:Be().bool,headlessWidget:Be().bool,reloadProductsAndPriceSeparatelyCheckout:Be().bool,hideRouteProductFromCart:Be().string}),te(vt,"defaultProps",{needsUpdate:!1,darkUI:!1,altUI:!1,defaultChecked:!1,refreshClickAdd:!1,reorderRefresh:!1,disableReorder:!1,forceCheckbox:!1,disableAnalytics:!1,defaultMaxUsdSubtotalAllowed:5e3,defaultMinUsdSubtotalAllowed:0,ignoreSubtotal:!1,cartStatus:"unverified"});var gt,yt=function(){var e=t(p().mark((function e(){var t,r,n,o,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void 0,i=(new Date).getTime(),ce().get("".concat(document.location.origin,"/cart.js?timestamp=").concat(i));case 2:if(t=e.sent,r=t.data.items,n=!1,o={updates:{}},r)for(a=0;a<r.length;a++)"Route"===r[a].vendor&&(o.updates[r[a].key]=0,n=!0);n&&ce().post("".concat(document.location.origin,"/cart/update.js"),o).then((function(e){window.location.reload()})).catch((function(e){return console.log("Error removing Route",e)}));case 8:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}(),bt=(o(400),me());!function(){try{document.addEventListener("DOMContentLoaded",(function(){ie.fetchProtectCoreScript("".concat(H.protectCoreURL,"?shop=").concat(bt))}))}catch(e){V.captureException(e)}}(),lt(),we(bt),document.getElementById("route-script")&&document.getElementById("route-script").hasAttribute("headless-widget")&&pe()&&Te.updateOrderSummaryPaymentPage({headlessWidget:!0}),(gt=t(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue()||le()||(t=document.createElement("div"),M(g(De,null),t));case 1:case"end":return e.stop()}}),e)}))),function(){return gt.apply(this,arguments)})();var wt=!0;function _t(e){var t=document.querySelector(".route-holder");if(!t){var r=document.createElement("div");r.setAttribute("class","route-holder"),e.parentNode.insertBefore(r,e),t=r}return t}window.renderRouteWidget=function(){var e=t(p().mark((function e(t,r){var n,o,a,i,s,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=52;break}n=0;case 2:if(!(n<t.length)){e.next=52;break}if(o={},t[n]){e.next=6;break}return e.abrupt("continue",49);case 6:if(t[n].hasAttribute("watch-add")&&(o.nameToListen=t[n].getAttribute("watch-add")),t[n].hasAttribute("opt-in")&&(o.forceOptIn=t[n].getAttribute("opt-in")),t[n].hasAttribute("opt-out")&&(o.forceOptOut=t[n].getAttribute("opt-out")),t[n].hasAttribute("watch-changes")&&(o.elementToListen=t[n].getAttribute("watch-changes")),t[n].hasAttribute("needs-update")&&(o.needsUpdate=!0),t[n].hasAttribute("default-checked")&&(o.defaultChecked=!0),t[n].hasAttribute("refreshClickAdd")&&(o.refreshClickAdd=!0),t[n].hasAttribute("reorder-refresh")&&(o.reorderRefresh=!0),t[n].hasAttribute("disable-reorder")&&(o.disableReorder=!0),t[n].hasAttribute("multiple-widgets")&&(o.multipleWidgets=!0),t[n].hasAttribute("reload-without-refresh")&&(o.reloadWithoutRefresh=t[n].getAttribute("reload-without-refresh")),t[n].hasAttribute("reload-without-refresh-v2")&&(o.reloadWithoutRefreshV2=t[n].getAttribute("reload-without-refresh-v2")),t[n].hasAttribute("reload-without-refresh-cart-page")&&(o.reloadWithoutRefreshCartPage=t[n].getAttribute("reload-without-refresh-cart-page")),t[n].hasAttribute("slideout-checker")&&(o.slideoutChecker=!0,t[n].hasAttribute("slideout-checker-force-redirect")&&(o.slideoutCheckerForceRedirect=t[n].getAttribute("slideout-checker-force-redirect"))),t[n].hasAttribute("force-checkbox")&&(o.forceCheckbox=!0),t[n].hasAttribute("disable-analytics")&&(o.disableAnalytics=t[n].getAttribute("disable-analytics")),t[n].hasAttribute("class-name-remove")&&(o.classNameRemove=t[n].attributes["class-name-remove"].value),t[n].hasAttribute("mobile-align")&&(o.mobileAlign=t[n].getAttribute("mobile-align")),t[n].hasAttribute("desktop-align")&&(o.desktopAlign=t[n].getAttribute("desktop-align")),t[n].hasAttribute("dark-ui")&&(o.darkUI=!0),(t[n].hasAttribute("ignore-subtotal")||t[n].classList.contains("ignore-subtotal"))&&(o.ignoreSubtotal=!0),t[n].hasAttribute("headless-widget")&&(o.headlessWidget=!0),t[n].hasAttribute("reload-products-and-price-separately-checkout")&&(o.reloadProductsAndPriceSeparatelyCheckout=!0),t[n].hasAttribute("hide-route-product-from-cart")&&(o.hideRouteProductFromCart=t[n].getAttribute("hide-route-product-from-cart")),t[n].hasAttribute("permalink-button-check")&&(o.permalinkButtonSelector=t[n].getAttribute("permalink-button-check")),t[n].hasAttribute("route-storefront-token")&&sessionStorage.setItem("route-storefront-token",t[n].getAttribute("route-storefront-token")),window.route_config&&(window.route_config.alternate_ui&&(o.altUI=!0),window.route_config.disableGA&&(o.disableAnalytics=!0),window.route_config.disableReorder&&(o.disableReorder=!0)),ue()&&(o.disableReorder=!0),ue()||le()){e.next=45;break}return e.next=37,Te.getShopifyCart(o);case 37:if(200!==(a=e.sent).status){e.next=45;break}if(i=a.data,s=i.items,$e(s)){e.next=45;break}return wt=!1,yt(),e.abrupt("return");case 45:wt=!0,c=_t(t[n]),M(g(vt,o),c),r&&clearInterval(r);case 49:n++,e.next=2;break;case 52:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),window.route_config&&window.route_config.disableGA&&window.Routeapp.analytics&&(window.Routeapp.analytics.settings.disableGA=!0),Ne.on("http-cart-update",(function(){wt=!0})),Ne.on("http-cart-change",(function(){wt=!0})),Ne.on("http-cart-add",(function(){wt=!0})),Ne.intercept();var kt=!0;function xt(){var e,t=document.querySelectorAll(".section--shipping-method").length,r=document.querySelectorAll(".route-div").length,n=document.querySelectorAll("[data-protection-widget]").length,o="no_coverage"===sessionStorage.getItem("payment-responsible");if(e=document.querySelector('[data-step="shipping_method"'),ue()&&(e||window.location.href.includes("step=shipping_method"))&&t>0&&0===r){var a=document.createElement("div");a.className="section";var i=document.createElement("div"),s=document.getElementById("route-script");if(s)for(var c=0;c<s.attributes.length;c++){var u=s.attributes[c];"id"!==u.nodeName&&"type"!==u.nodeName&&i.setAttribute(u.nodeName,u.nodeValue?u.nodeValue:"")}i.className="route-div",a.appendChild(i),document.querySelectorAll(".step__sections")[0].appendChild(a)}W("Should render widget?",r>n,wt,kt,!o),r>n&&wt&&kt&&!o&&(window.renderRouteWidget(document.querySelectorAll(".route-div")),kt=!1,setTimeout((function(){kt=!0}),3e3),100===St&&(St=1e3,clearInterval(Ct),Ct=setInterval(xt,St)))}!function(){var e=document.querySelector(".route-div");if(e&&e.hasAttribute("button-add")){var t=e.getAttribute("button-add");document.querySelectorAll(t).forEach((function(e){e.addEventListener("click",(function(){wt=!0}))}))}}();var St=100,Ct=("no_coverage"===sessionStorage.getItem("payment-responsible")&&sessionStorage.removeItem("payment-responsible"),xt(),setInterval(xt,St));function Rt(){return(Rt=t(p().mark((function e(){var t,r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Te.getShopifyCart({ignoreCachedCart:!0});case 4:if(t=e.sent,1!==(r=t.data).items.length||"Route"!==r.items[0].vendor){e.next=12;break}return(n={updates:{}}).updates[r.items[0].key]=0,e.next=11,Te.updateShopifyCart(n);case 11:location.reload();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Rt.apply(this,arguments)}()})(),i})()}));
//# sourceMappingURL=route-widget-shopify-stable-v2.min.js.map